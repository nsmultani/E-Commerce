<!-- app/views/categories/index.html.erb -->

<div style="text-align: center; margin-bottom: 30px;">
  <h1>Shop by Category</h1>
  <p>Browse our complete selection of outdoor gear organized by category</p>
</div>

<div class="categories-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-bottom: 30px;">
  <% @root_categories.each do |category| %>
    <div class="category-card" style="background-color: white; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); padding: 20px; text-align: center; transition: transform 0.3s, box-shadow 0.3s;">
      <%= link_to category_path(category.slug), style: "text-decoration: none; color: inherit;" do %>
        <h3 style="color: #2c3e50; margin-bottom: 10px;"><%= category.name %></h3>
        <p style="color: #7f8c8d; margin-bottom: 15px;"><%= category.description %></p>
        
        <div style="margin-bottom: 15px;">
          <span style="background-color: #3498db; color: white; padding: 5px 10px; border-radius: 15px; font-size: 14px;">
            <%= pluralize(category.products.count, 'product') %>
          </span>
        </div>
        
        <% if category.subcategories.any? %>
          <div style="margin-top: 15px;">
            <h5 style="color: #34495e; margin-bottom: 8px;">Subcategories:</h5>
            <div style="font-size: 14px; color: #7f8c8d;">
              <%= category.subcategories.map(&:name).join(' • ') %>
            </div>
          </div>
        <% end %>
        
        <div style="margin-top: 15px; color: #3498db; font-weight: bold;">
          Browse <%= category.name %> →
        </div>
      <% end %>
    </div>
  <% end %>
</div>

<style>
  .category-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 20px rgba(0,0,0,0.15);
  }
</style>